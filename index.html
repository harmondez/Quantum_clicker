<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Quantum Clicker: Ultimate Edition</title>
    <link rel="stylesheet" href="styles.css">

    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
            }
        }
    </script>
</head>
<body>

    <div id="modal-achievements" class="modal-overlay">
    <div class="modal-box">
        <div class="close-btn" onclick="toggleAchievements()">√ó</div>
        <h2 style="border:none; margin-bottom:0;">üèÜ Galer√≠a de Trofeos</h2>
        <div id="achievements-grid"></div>
        </div>
    </div>

    <div id="modal-ascension" class="modal-overlay">
        <div class="modal-box" style="border-color: #7c4dff;">
            <div class="close-btn" onclick="closeAscension()">√ó</div>
            <h2 style="color: #b388ff; border:none;">üåÄ ASCENSI√ìN CU√ÅNTICA</h2>
            <div class="antimatter-icon">‚öõÔ∏è</div>
            
            <div class="ascension-info">
                Al ascender, tu universo colapsar√° y renacer√°.<br>
                Perder√°s edificios, mejoras y energ√≠a.<br>
                Ganar√°s <b>Antimateria</b> y un <b>Multiplicador Permanente</b>.
            </div>

            <div style="background:#111; padding:15px; border-radius:8px; text-align:left;">
                <div class="stat-row">
                    <span>Energ√≠a Acumulada:</span>
                    <span id="asc-total-cookies">0</span>
                </div>
                <div class="stat-row">
                    <span>Multiplicador Actual:</span>
                    <span id="asc-current-mult">x1.0</span>
                </div>
                <div class="stat-row" style="border:none; margin-top:10px;">
                    <span>Recompensa al Resetear:</span>
                </div>
                <div style="text-align:center; margin-top:5px;">
                    <div class="gain-text">+<span id="asc-gain-antimatter">0</span> Antimateria</div>
                    <div style="color:var(--accent); font-size:0.9rem;">(Nuevo Bonus: x<span id="asc-new-mult">0</span>)</div>
                </div>
            </div>

            <button onclick="confirmAscension()" style="
                margin-top:20px; width:100%; padding:15px; 
                background: linear-gradient(45deg, #311b92, #651fff);
                color: white; font-weight:bold; border:none; border-radius:6px;
                cursor:pointer; font-size:1.1rem; box-shadow: 0 0 15px #651fff;
            ">¬°ASCENDER AHORA!</button>
        </div>
    </div>

    
    <div id="modal-system" class="modal-overlay" style="z-index: 3000;">
        <div class="modal-box" style="border-color: #ff5252; min-width: 320px;">
            <h3 id="sys-title" style="margin-top: 0; color: #ff5252; text-transform: uppercase; letter-spacing: 2px;">‚ö†Ô∏è ALERTA DEL SISTEMA</h3>
            <p id="sys-msg" style="color: #ddd; font-size: 1rem; margin: 20px 0; line-height: 1.5;">Mensaje...</p>
            
            <div style="display: flex; gap: 10px; justify-content: center; margin-top: 20px;">
                <button id="sys-btn-cancel" onclick="closeSystemModal()" style="
                    background: transparent; border: 1px solid #444; color: #888; 
                    padding: 10px 20px; border-radius: 4px; cursor: pointer; display: none;">
                    CANCELAR
                </button>
                <button id="sys-btn-ok" style="
                    background: var(--accent); border: none; color: #000; font-weight: bold;
                    padding: 10px 20px; border-radius: 4px; cursor: pointer; box-shadow: 0 0 10px var(--accent);">
                    ACEPTAR
                </button>
            </div>
        </div>
    </div>



    



    <div id="news-ticker"><div id="news-content">Cargando noticias del multiverso...</div></div>
    <div id="notification-area"></div>

    <div id="game-area">
        <div id="anomaly-notifications"></div>
        <canvas id="three-canvas"></canvas>
        
        <button id="btn-overcharge" onclick="activateOvercharge()" style="
            position: absolute; bottom: 30px; left: 50%; transform: translateX(-50%);
            padding: 15px 30px; background: #ff9100; border: 2px solid #fff;
            color: #000; font-weight: bold; font-size: 1.2rem; border-radius: 30px;
            cursor: pointer; box-shadow: 0 0 20px #ff9100; z-index: 50;
            transition: 0.3s;
        ">üî• SOBRECARGA</button>

        <div id="prestige-hud">‚ö° Multiplicador Cu√°ntico: <span id="prestige-display">x1.0</span></div>

        <div class="hud-overlay">
            <div id="score">0</div>
            <div id="cps-display">0.0 / seg</div>
            <div id="combo-display" style="color: #ff0055; font-weight:bold; font-size:1.5rem; opacity:0; transition: opacity 0.2s;">COMBO x1.0</div>
        </div>
    </div>

    <div id="store-area">
        <h2>Mejoras</h2>
        
        <div id="upgrades-panel">
            <div style="color:#444; font-size:0.8rem; width:100%; text-align:center;">Juega para desbloquear tecnolog√≠a</div>
        </div>

        <h2>Estructuras</h2>
        <div id="buildings-list"></div>

        <h2>üëΩ Ayudantes Alien√≠genas</h2>

        <div id="helpers-list"></div>


        <div id="save-controls" style="display: flex; gap: 5px;">
            <button class="sys-btn" onclick="toggleCollection()" title="C√≥dice (Colecci√≥n)" style="
                flex: 0.4; 
                background: #3e2723; 
                border-color: #5d4037; 
                padding: 0;
                font-size: 1.2rem;
            ">üìñ</button>
    
            <button class="sys-btn" onclick="toggleAchievements()" title="Logros" style="
                flex: 0.4; 
                background: #004d40; 
                border-color: #00695c; 
                padding: 0;
                font-size: 1.2rem;
            ">üèÜ</button>

            <button class="sys-btn" onclick="exportSave()" title="Exportar Partida (Copiar c√≥digo)">üì§</button>
            <button class="sys-btn" onclick="importSave()" title="Importar Partida (Pegar c√≥digo)">üì•</button>
            <button class="sys-btn" id="btn-prestige" onclick="doPrestige()" style="display:none;">Ascender</button>
            <button class="sys-btn" onclick="saveGame()">Guardar</button>
            <button class="sys-btn" onclick="resetGame()" style="color: var(--danger);">Reset</button>
        </div>

    <script type="module" src="game.js"></script>
    

    <div id="modal-collection" class="modal-overlay" style="z-index: 2500;">
        <div class="modal-box" style="width: 700px; max-width: 95%; max-height: 80vh; overflow-y: auto;">
            <div class="close-btn" onclick="toggleCollection()">√ó</div>
            <h2 style="color: #ffd700; border-bottom: 1px solid #555;">üìñ C√≥dice Cu√°ntico</h2>

            <h3 style="text-align: left; color: #aaa; font-size: 0.9rem; margin-top: 20px;">TECNOLOG√çA DESCUBIERTA</h3>
            <div id="collection-upgrades" class="collection-grid"></div>

            <h3 style="text-align: left; color: #aaa; font-size: 0.9rem; margin-top: 30px;">BASE DE DATOS ALIEN√çGENA</h3>
            <div id="collection-helpers" class="collection-grid"></div>
        </div>
    </div>

</body>
</html>
