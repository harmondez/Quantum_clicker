<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Quantum Clicker: Ultimate Edition</title>
    
    <link rel="stylesheet" href="style.css">

    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
            }
        }
    </script>
</head>
<body>

    <div id="modal-achievements" class="modal-overlay">
        <div class="modal-box">
            <div class="close-btn" onclick="toggleAchievements()">Ã—</div>
            <h2 style="border:none; margin-bottom:0;">ğŸ† GalerÃ­a de Trofeos</h2>
            <div id="achievements-grid"></div>
        </div>
    </div>

    <div id="modal-ascension" class="modal-overlay">
        <div class="modal-box" style="border-color: #7c4dff;">
            <div class="close-btn" onclick="closeAscension()">Ã—</div>
            <h2 style="color: #b388ff; border:none;">ğŸŒ€ ASCENSIÃ“N CUÃNTICA</h2>
            <div class="antimatter-icon">âš›ï¸</div>
            
            <div class="ascension-info">
                Al ascender, tu universo colapsarÃ¡ y renacerÃ¡.<br>
                PerderÃ¡s edificios, mejoras y acompaÃ±antes.<br>
                GanarÃ¡s <b>Antimateria</b> y un <b>Multiplicador Permanente</b>.
            </div>

            <div style="background:#111; padding:15px; border-radius:8px; text-align:left;">
                <div class="stat-row">
                    <span>EnergÃ­a Acumulada:</span>
                    <span id="asc-total-cookies">0</span>
                </div>
                <div class="stat-row">
                    <span>Multiplicador Actual:</span>
                    <span id="asc-current-mult">x1.0</span>
                </div>
                <div class="stat-row" style="border:none; margin-top:10px;">
                    <span>Recompensa al Resetear:</span>
                </div>
                <div style="text-align:center; margin-top:5px;">
                    <div class="gain-text">+<span id="asc-gain-antimatter">0</span> Antimateria</div>
                    <div style="color:var(--accent); font-size:0.9rem;">(Nuevo Bonus: x<span id="asc-new-mult">0</span>)</div>
                </div>
            </div>

            <button onclick="confirmAscension()" style="
                margin-top:20px; width:100%; padding:15px; 
                background: linear-gradient(45deg, #311b92, #651fff);
                color: white; font-weight:bold; border:none; border-radius:6px;
                cursor:pointer; font-size:1.1rem; box-shadow: 0 0 15px #651fff;
            ">Â¡ASCENDER AHORA!</button>
        </div>
    </div>

    <div id="news-ticker"><div id="news-content">Cargando noticias del multiverso...</div></div>
    <div id="notification-area"></div>

    <div id="game-area">
        <canvas id="three-canvas"></canvas>
        
        <button id="btn-overcharge" onclick="activateOvercharge()">ğŸ”¥ SOBRECARGA</button>

        <div id="prestige-hud">âš¡ Multiplicador CuÃ¡ntico: <span id="prestige-display">x1.0</span></div>

        <div class="hud-overlay">
            <div id="score">0</div>
            <div id="cps-display">0.0 / seg</div>
            <div id="combo-display" style="color: #ff0055; font-weight:bold; font-size:1.5rem; opacity:0; transition: opacity 0.2s;">COMBO x1.0</div>
        </div>
    </div>

    <div id="store-area">
        <h2>Mejoras</h2>
        <div id="upgrades-panel">
            <div style="color:#444; font-size:0.8rem; width:100%; text-align:center;">Juega para desbloquear tecnologÃ­a</div>
        </div>

        <h2>Estructuras</h2>
        <div id="buildings-list"></div>

        <div id="save-controls" style="display: flex; gap: 5px;">
            <button class="sys-btn" onclick="toggleAchievements()" title="Logros" style="flex: 0.4; background: #004d40; border-color: #00695c; padding: 0; font-size: 1.2rem;">ğŸ†</button>
            
            <button class="sys-btn" onclick="exportSave()" title="Exportar Partida (Copiar cÃ³digo)">ğŸ“¤</button>
            <button class="sys-btn" onclick="importSave()" title="Importar Partida (Pegar cÃ³digo)">ğŸ“¥</button>
            
            <button class="sys-btn" id="btn-prestige" onclick="doPrestige()" style="display:none;">Ascender</button>
            <button class="sys-btn" onclick="saveGame()">Guardar</button>
            <button class="sys-btn" onclick="resetGame()" style="color: var(--danger);">Reset</button>
        </div>
    </div>

    <script type="module" src="script.js"></script>

</body>
</html>